<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéì PMERIT - Empowering Learning Through Innovation</title>
    
    <!-- Modular CSS Files -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <div class="logo">üéì PMERIT</div>
                
                <div class="header-center">
                    <h1>Empowering Learning Through Innovation</h1>
                    <p>Accessible, high-quality education for global opportunities</p>
                </div>
                
                <nav class="nav-actions">
                    <select class="language-selector">
                        <option value="en">üåç English</option>
                        <option value="yo">Yoruba</option>
                        <option value="ig">Igbo</option>
                        <option value="ha">Hausa</option>
                    </select>
                    <a href="courses.html" class="btn btn-pricing">üí∞ Pricing</a>
                    <a href="signin.html" class="btn btn-signin">Sign In</a>
                    <a href="#" id="startLearningBtn" class="btn btn-primary">Start Learning</a>
                </nav>
            </div>
        </header>

        <main class="main-content">
            <aside class="sidebar-left" id="leftSidebar">
                <div class="sidebar-header">
                    <div class="avatar-container">
                        <div class="avatar-circle">
                            <span class="avatar-icon">ü§ñ</span>
                        </div>
                        <div class="avatar-info">
                            <h3>Gabriel AI</h3>
                            <p>Your Learning Guide</p>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <div class="action-item" data-action="text-to-speech">
                        <span class="icon">üéß</span>
                        <span class="label">Text-to-Speech</span>
                    </div>
                    <div class="action-item" data-action="dark-mode">
                        <span class="icon">üåô</span>
                        <span class="label">Dark Mode</span>
                    </div>
                    <div class="action-item" data-action="my-profile">
                        <span class="icon">üë§</span>
                        <span class="label">My Profile</span>
                    </div>
                    <div class="action-item" data-action="settings">
                        <span class="icon">‚öôÔ∏è</span>
                        <span class="label">Settings</span>
                    </div>
                    <div class="action-item" data-action="assessments">
                        <span class="icon">üìã</span>
                        <span class="label">Assessments</span>
                    </div>
                    <div class="action-item" data-action="subjects">
                        <span class="icon">üìö</span>
                        <span class="label">Subjects</span>
                    </div>
                    <div class="action-item" data-action="progress">
                        <span class="icon">üìä</span>
                        <span class="label">Progress</span>
                    </div>
                    <div class="action-item" data-action="help">
                        <span class="icon">‚ùì</span>
                        <span class="label">Help</span>
                    </div>
                </div>
            </aside>

            <section class="chat-container">
                <div class="chat-header">
                    <h1>Empowering Learning Through Innovation</h1>
                    <p>Accessible, high-quality education for global opportunities</p>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message">
                        <div class="message-content">
                            <strong>Gabriel AI:</strong> Welcome to PMERIT! I'm here to guide your learning journey. Our mission is to provide accessible, high-quality education that opens doors to endless opportunities. How can I help you discover your potential today?
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <div class="chat-input-wrapper">
                        <input type="text" id="chatInput" placeholder="Ask about courses, learning paths, or your goals..." maxlength="1000">
                        <button id="sendButton" class="send-button">
                            <span class="send-icon">‚Üí</span>
                        </button>
                    </div>
                    
                    <div class="chat-footer">
                        <div class="footer-left">
                            <span class="char-count">0/1000</span>
                        </div>
                        <div class="footer-center">
                            <span class="status-item">üé≠ Virtual Human Mode</span>
                            <span class="status-item">üìñ Read About</span>
                        </div>
                        <div class="footer-right">
                            <span class="status-connected">‚úÖ Connected to Educational Services</span>
                        </div>
                    </div>
                </div>
            </section>

            <aside class="sidebar-right" id="rightSidebar">
                <div class="discovery-section">
                    <div class="section-header">
                        <span class="section-icon">üß†</span>
                        <h3>Discover Your Path</h3>
                    </div>
                    <p>Personalized assessments to guide your learning journey</p>
                </div>

                <div class="assessment-cards">
                    <div class="assessment-card" data-assessment="learning-style">
                        <div class="card-header">
                            <span class="card-icon">üéØ</span>
                            <h4>Learning Style Assessment</h4>
                        </div>
                        <p>Discover how you learn best and personalize your experience</p>
                        <button class="assessment-btn">Start Assessment ‚Üí</button>
                    </div>

                    <div class="assessment-card" data-assessment="interest-profiler">
                        <div class="card-header">
                            <span class="card-icon">üí°</span>
                            <h4>Interest Profiler</h4>
                        </div>
                        <p>Explore subjects and fields that match your natural interests</p>
                        <button class="assessment-btn">Discover Interests ‚Üí</button>
                    </div>

                    <div class="assessment-card" data-assessment="skills-assessment">
                        <div class="card-header">
                            <span class="card-icon">‚ö°</span>
                            <h4>Skills Assessment</h4>
                        </div>
                        <p>Assess your current abilities and identify growth opportunities</p>
                        <button class="assessment-btn">Evaluate Skills ‚Üí</button>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <!-- Modular JavaScript Files -->
    <script src="js/main.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/auth.js"></script>
    <!-- IMPROVED REGISTRATION MODAL - RICE-STYLE TWO-STEP PROCESS -->
<!-- Replace the existing signupModal in your index.html -->

<div id="signupModal" class="modal-overlay" style="display:none;" role="dialog" aria-modal="true">
    <div class="modal-box">
        
        <!-- STEP 1: Role Selection (RICE-inspired) -->
        <div id="roleSelection" class="registration-step">
            <div class="modal-header">
                <h2>üéì Welcome! Join PMERIT as</h2>
                <p>Choose your role to get started - First attempt always free!</p>
            </div>
            
            <div class="role-selection-grid">
                <div class="role-card" data-role="student">
                    <div class="role-icon">üéì</div>
                    <h3>Student</h3>
                    <p>Start learning with our Technology, Business, and Creative tracks. Build skills for global remote opportunities.</p>
                    <button class="role-select-btn">Continue as Student</button>
                </div>
                
                <div class="role-card" data-role="educator">
                    <div class="role-icon">üë©‚Äçüè´</div>
                    <h3>Educator</h3>
                    <p>Teach courses, mentor students, and contribute to our mission of accessible education worldwide.</p>
                    <button class="role-select-btn">Continue as Educator</button>
                </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" id="closeRoleSelection" class="btn-text">Cancel</button>
            </div>
        </div>

        <!-- STEP 2: Registration Form -->
        <div id="registrationForm" class="registration-step" style="display:none;">
            <div class="modal-header">
                <button id="backToRoles" class="back-button">‚Üê Back</button>
                <h2>üéì Create Your Account</h2>
                <p id="roleSubtitle">Student Registration</p>
            </div>
            
            <form id="signupForm" autocomplete="off">
                <div class="form-group">
                    <label for="userName">
                        Legal Name *
                        <input 
                            type="text" 
                            id="userName"
                            name="name" 
                            required 
                            minlength="2" 
                            maxlength="80"
                            placeholder="Enter your full legal name"
                        />
                    </label>
                </div>

                <div class="form-group">
                    <label for="userEmail">
                        Email Address *
                        <input 
                            type="email" 
                            id="userEmail"
                            name="email" 
                            required 
                            maxlength="100"
                            placeholder="Enter your email address"
                        />
                    </label>
                </div>

                <div class="form-group">
                    <label for="userIntent">
                        What do you hope to achieve on PMERIT? *
                        <textarea 
                            id="userIntent"
                            name="intent" 
                            required 
                            maxlength="200"
                            placeholder="Briefly describe your learning goals..."
                            rows="3"
                        ></textarea>
                        <span class="char-counter">0/200</span>
                    </label>
                </div>

                <div class="form-group">
                    <label for="careerAssessment">
                        Have you taken our free career assessment? *
                        <select id="careerAssessment" name="career_assessment" required>
                            <option value="" disabled selected>Select an option</option>
                            <option value="yes">Yes, I've completed it</option>
                            <option value="no">No, not yet</option>
                        </select>
                    </label>
                    <div class="assessment-link" id="assessmentPrompt" style="display:none;">
                        <p>üìã <a href="#" id="takeAssessmentLink">Take the free career assessment first</a> to get personalized course recommendations.</p>
                    </div>
                </div>

                <div class="privacy-warning">
                    ‚ö†Ô∏è <strong>Privacy Notice:</strong> We protect your privacy and will never sell your data. Only share information required for registration.
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary" id="submitRegistration">
                        <span class="button-text">Create My Account</span>
                        <span class="button-spinner" style="display:none;">Creating...</span>
                    </button>
                    <button type="button" id="closeSignup" class="btn-secondary">
                        Cancel
                    </button>
                </div>

                <div class="terms-notice">
                    <small>By registering, you agree to our commitment to equitable education. First attempts at all courses are free globally.</small>
                </div>
            </form>
        </div>

        <!-- STEP 3: Loading State -->
        <div id="registrationLoading" class="registration-step" style="display:none;">
            <div class="loading-state">
                <div class="loading-spinner"></div>
                <h3>Creating your account...</h3>
                <p>Please wait while we set up your learning profile.</p>
            </div>
        </div>

        <!-- STEP 4: Success State -->
        <div id="registrationSuccess" class="registration-step" style="display:none;">
            <div class="success-state">
                <div class="success-icon">‚úÖ</div>
                <h3>Welcome to PMERIT!</h3>
                <p>Registration successful! Please check your email to confirm your account and access your personalized dashboard.</p>
                <div class="success-actions">
                    <button class="btn-primary" id="closeSuccessModal">Get Started</button>
                    <button class="btn-text" id="resendEmail">Resend confirmation email</button>
                </div>
            </div>
        </div>

        <!-- STEP 5: Error State -->
        <div id="registrationError" class="registration-step" style="display:none;">
            <div class="error-state">
                <div class="error-icon">‚ùå</div>
                <h3>Registration Failed</h3>
                <p id="errorMessage">Something went wrong. Please try again.</p>
                <div class="error-actions">
                    <button class="btn-primary" id="retryRegistration">Try Again</button>
                    <button class="btn-text" id="contactSupport">Contact Support</button>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
